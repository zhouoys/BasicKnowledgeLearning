# 移动端网页特效

![image-20200428122341259](移动端网页特效.assets/image-20200428122341259.png)



![image-20200428122353090](移动端网页特效.assets/image-20200428122353090.png)

## 1.触屏事件



### 1.1 触屏事件概述

#### touchstart

#### touchmove

#### touchend

![image-20200428122537358](移动端网页特效.assets/image-20200428122537358.png)



![image-20200501213656386](移动端网页特效.assets/image-20200501213656386.png)





### 1.2 触屏事件对象（TouchEvent）

![image-20200428122636628](移动端网页特效.assets/image-20200428122636628.png)





![image-20200501214338834](移动端网页特效.assets/image-20200501214338834.png)



#### touches

![image-20200501213850696](移动端网页特效.assets/image-20200501213850696.png)



#### targetTouches

![image-20200501214136746](移动端网页特效.assets/image-20200501214136746.png)



#### changedTouches

![image-20200501214055818](移动端网页特效.assets/image-20200501214055818.png)



#### 特殊：手机离开DOM元素事件

![image-20200501214716352](移动端网页特效.assets/image-20200501214716352.png)

##### 具有changedTouches

![image-20200501214506797](移动端网页特效.assets/image-20200501214506797.png)



##### 没有targetTouches

![image-20200501214551505](移动端网页特效.assets/image-20200501214551505.png)



##### 没有touches

![image-20200501214617366](移动端网页特效.assets/image-20200501214617366.png)



##### 触摸：第一根手指实例

![image-20200501215013619](移动端网页特效.assets/image-20200501215013619.png)





![image-20200501215046203](移动端网页特效.assets/image-20200501215046203.png)





### 1.3 移动端拖动元素



![image-20200428122942143](移动端网页特效.assets/image-20200428122942143.png)



计算鼠标触摸时候的位置，并保存。

![image-20200501230241403](移动端网页特效.assets/image-20200501230241403.png)





触摸时获取触摸时候的DOM的相对于屏幕的位置

计算手指划动的距离（也就是划动事件里面手指的位置，减去手指的初始位置。）

![image-20200501230440010](移动端网页特效.assets/image-20200501230440010.png)



在手指划动事件中同时改变DOM的定位的位置（此时默认DOM已经进行了绝对定位）

![image-20200501230808302](移动端网页特效.assets/image-20200501230808302.png)



阻止屏幕滚动的默认行为。

![image-20200501231154066](移动端网页特效.assets/image-20200501231154066.png)



~~~html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        div{
            position: absolute;
            width: 100px;
            height: 100px;
            background-color: green;
        }
    </style>
</head>
<body>
    <div>
    </div>
</body>
<script>
    var div = document.querySelector('div');
    // 保存DOM的位置
    var X = 0;
    var Y = 0
    // 保存触摸的初始位置
    var touchX = 0;
    var touchY = 0;
    // 添加手指触摸事件
    div.addEventListener('touchstart',function(e){
        // 获取第一个手机触摸时候的位置
        console.log(e.targetTouches[0]);
        // 保存触摸时候的位置
        // 这两种获取鼠标坐标的方法，区别在于参考对象不同：
        // pageX和pageY：获取鼠标指针距离文档（HTML）的左上角距离，不会随着滚动条滚动而改变
        // clientX和clientY：获取鼠标指针距离可视窗口(不包括上面的地址栏和滑动条)的距离，会随着滚动条滚动而改变

        touchX = e.targetTouches[0].pageX;
        touchY = e.targetTouches[0].pageY;
        // 设置DOM的初始位置
        X = this.offsetLeft;
        Y = this.offsetTop;
    })
    // 添加手指划动事件
    div.addEventListener('touchmove',function(e){
        // 计算手指划动时候跟触摸时候的位置之差。
        var differenceX = e.targetTouches[0].pageX - touchX;
        var differenceY = e.targetTouches[0].pageY - touchY;

        // 重新计算DOM的位置
        div.style.left = X + differenceX + 'px';
        div.style.top = Y + differenceY + 'px';

        // 阻止划动的默认滚动事件
        e.preventDefault();
    })
</script>
</html>
~~~



![image-20200502225720922](移动端网页特效.assets/image-20200502225720922.png)





## 2.移动端常见特效

### 案例：移动端轮播图

![image-20200428124628272](移动端网页特效.assets/image-20200428124628272.png)



![image-20200428124706174](移动端网页特效.assets/image-20200428124706174.png)





![image-20200428124728345](移动端网页特效.assets/image-20200428124728345.png)



### 2.1 classList属性

![image-20200428124809042](移动端网页特效.assets/image-20200428124809042.png)



不同于className的直接覆盖所有类名，此处的add，始终是在原来的类名的基础上，在新增一个类名。



![image-20200428124907535](移动端网页特效.assets/image-20200428124907535.png)



![image-20200501231935703](移动端网页特效.assets/image-20200501231935703.png)





![image-20200428124941122](移动端网页特效.assets/image-20200428124941122.png)



![image-20200428125005933](移动端网页特效.assets/image-20200428125005933.png)



### 案例：返回顶部

![image-20200428125140051](移动端网页特效.assets/image-20200428125140051.png)





![image-20200428125120109](移动端网页特效.assets/image-20200428125120109.png)







## 3.移动端常用开发插件

### 3.1 什么是插件

![image-20200428123345036](移动端网页特效.assets/image-20200428123345036.png)



### 3.2 插件的使用

![image-20200428123500796](移动端网页特效.assets/image-20200428123500796.png)



### 3.3 Swiper插件的使用

![image-20200428123526431](移动端网页特效.assets/image-20200428123526431.png)



![image-20200502105951636](移动端网页特效.assets/image-20200502105951636.png)





![image-20200502110104434](移动端网页特效.assets/image-20200502110104434.png)



![image-20200502110229147](移动端网页特效.assets/image-20200502110229147.png)





![image-20200502110331631](移动端网页特效.assets/image-20200502110331631.png)



![image-20200502110408673](移动端网页特效.assets/image-20200502110408673.png)







### 3.4 其他移动端常见插件

![image-20200428123602477](移动端网页特效.assets/image-20200428123602477.png)



### 3.5 click延时解决方案

![image-20200428123635545](移动端网页特效.assets/image-20200428123635545.png)



![image-20200502104752488](移动端网页特效.assets/image-20200502104752488.png)









![image-20200428125311142](移动端网页特效.assets/image-20200428125311142.png)



![image-20200428125355584](移动端网页特效.assets/image-20200428125355584.png)



![image-20200428125445351](移动端网页特效.assets/image-20200428125445351.png)





![image-20200502105306626](移动端网页特效.assets/image-20200502105306626.png)



![image-20200502105439263](移动端网页特效.assets/image-20200502105439263.png)





### 3.6 移动端视频插件-zy.media.js

![image-20200428123749827](移动端网页特效.assets/image-20200428123749827.png)



## 4. 移动端常用开发框架

### 4.1 框架概述

![image-20200428123855241](移动端网页特效.assets/image-20200428123855241.png)



### 4.2 Bootstrap

![image-20200428123933958](移动端网页特效.assets/image-20200428123933958.png)





![image-20200502112245958](移动端网页特效.assets/image-20200502112245958.png)





![image-20200502112324636](移动端网页特效.assets/image-20200502112324636.png)





![image-20200502112449316](移动端网页特效.assets/image-20200502112449316.png)





![image-20200502112641933](移动端网页特效.assets/image-20200502112641933.png)



![image-20200502113928535](移动端网页特效.assets/image-20200502113928535.png)





### 4.3 MUI原生UI前端框架

![image-20200428124004587](移动端网页特效.assets/image-20200428124004587.png)

